23:07:09.903 [main] DEBUG o.s.mock.env.MockEnvironment - Initialized MockEnvironment with PropertySources []
23:07:09.906 [main] DEBUG o.s.mock.env.MockEnvironment - Adding [mockProperties] PropertySource with lowest search precedence
23:07:09.906 [main] DEBUG o.s.mock.env.MockEnvironment - Activating profile 'metrics'
23:07:09.907 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Searching for key 'spring.profiles.active' in [mockProperties]
23:07:09.907 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Could not find key 'spring.profiles.active' in any property source. Returning [null]
23:07:09.907 [main] DEBUG o.s.mock.env.MockEnvironment - Activating profile 'jmx'
23:07:09.921 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
23:07:09.935 [main] INFO  c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Refreshing com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$1@7113b13f: startup date [Tue Oct 05 23:07:09 IST 2021]; root of context hierarchy
23:07:09.937 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Bean factory for com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$1@7113b13f: org.springframework.beans.factory.support.DefaultListableBeanFactory@37e547da: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,metricsWorkflowExecutorListenerTest.Config]; root of factory hierarchy
23:07:09.944 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:09.945 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:09.952 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
23:07:09.953 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:09.977 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registered bean definition for imported class 'nflowMetrics/metricsContext'
23:07:09.982 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.jmxMetricsReporter()
23:07:09.983 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.databaseConnectionHealthCheck()
23:07:09.984 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.metricsWorkflowExecutorListener()
23:07:09.985 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.metricRegistry()
23:07:09.986 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.healthCheckRegistry()
23:07:09.987 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.statisticsService()
23:07:09.987 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.statisticsDao()
23:07:09.988 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.executorDao()
23:07:10.025 [main] DEBUG o.s.c.a.ConfigurationClassEnhancer - Successfully enhanced com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config; enhanced class name is: com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config$$EnhancerBySpringCGLIB$$a86366aa
23:07:10.025 [main] DEBUG o.s.c.a.ConfigurationClassPostProcessor - Replacing bean definition 'metricsWorkflowExecutorListenerTest.Config' existing class name 'com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config' with enhanced class name 'com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config$$EnhancerBySpringCGLIB$$a86366aa'
23:07:10.027 [main] DEBUG o.s.c.a.ConfigurationClassEnhancer - Successfully enhanced com.nitorcreations.nflow.metrics.NflowMetricsContext; enhanced class name is: com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b
23:07:10.027 [main] DEBUG o.s.c.a.ConfigurationClassPostProcessor - Replacing bean definition 'nflowMetrics/metricsContext' existing class name 'com.nitorcreations.nflow.metrics.NflowMetricsContext' with enhanced class name 'com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b'
23:07:10.029 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.029 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.030 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
23:07:10.030 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
23:07:10.030 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.030 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.030 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.030 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
23:07:10.030 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.030 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.031 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
23:07:10.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
23:07:10.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.032 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.033 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
23:07:10.033 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.034 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@2d3379b4]
23:07:10.035 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@28701274]
23:07:10.035 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@37e547da: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,metricsWorkflowExecutorListenerTest.Config,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,nflowMetrics/metricsContext,jmxMetricsReporter,databaseConnectionHealthCheck,metricsWorkflowExecutorListener,metricRegistry,healthCheckRegistry,statisticsService,statisticsDao,executorDao]; root of factory hierarchy
23:07:10.035 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.035 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.035 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.036 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.036 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.036 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.038 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerProcessor' to allow for resolving potential circular references
23:07:10.047 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.048 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.048 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.048 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerFactory' to allow for resolving potential circular references
23:07:10.049 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.050 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.050 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.051 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricsWorkflowExecutorListenerTest.Config' to allow for resolving potential circular references
23:07:10.054 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.054 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.054 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.054 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.054 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'nflowMetrics/metricsContext'
23:07:10.055 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Found init method on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: public void com.nitorcreations.nflow.metrics.NflowMetricsContext.registerHealthChecks()
23:07:10.055 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Registered init method on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement@e2261c2a
23:07:10.059 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.nitorcreations.nflow.engine.service.StatisticsService com.nitorcreations.nflow.metrics.NflowMetricsContext.statisticsService
23:07:10.059 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.codahale.metrics.MetricRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.metricRegistry
23:07:10.059 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.codahale.metrics.health.HealthCheckRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.healthCheckRegistry
23:07:10.059 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'nflowMetrics/metricsContext' to allow for resolving potential circular references
23:07:10.062 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.nitorcreations.nflow.engine.service.StatisticsService com.nitorcreations.nflow.metrics.NflowMetricsContext.statisticsService
23:07:10.065 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'statisticsService'
23:07:10.065 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'statisticsService'
23:07:10.065 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.078 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.engine.service.StatisticsService$$EnhancerByMockitoWithCGLIB$$85efeb13]: AutowiredFieldElement for private com.nitorcreations.nflow.engine.internal.dao.StatisticsDao com.nitorcreations.nflow.engine.service.StatisticsService.statisticsDao
23:07:10.078 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'statisticsService' to allow for resolving potential circular references
23:07:10.080 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'statisticsService': AutowiredFieldElement for private com.nitorcreations.nflow.engine.internal.dao.StatisticsDao com.nitorcreations.nflow.engine.service.StatisticsService.statisticsDao
23:07:10.081 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'statisticsDao'
23:07:10.081 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'statisticsDao'
23:07:10.081 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.086 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'statisticsDao' to allow for resolving potential circular references
23:07:10.088 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'statisticsDao'
23:07:10.089 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'statisticsService' to bean named 'statisticsDao'
23:07:10.089 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'statisticsService'
23:07:10.089 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'statisticsService'
23:07:10.089 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.codahale.metrics.MetricRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.metricRegistry
23:07:10.090 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricRegistry'
23:07:10.090 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricRegistry'
23:07:10.090 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.092 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricRegistry' to allow for resolving potential circular references
23:07:10.095 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricRegistry'
23:07:10.095 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'metricRegistry'
23:07:10.095 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.codahale.metrics.health.HealthCheckRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.healthCheckRegistry
23:07:10.096 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'healthCheckRegistry'
23:07:10.096 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'healthCheckRegistry'
23:07:10.096 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.097 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'healthCheckRegistry' to allow for resolving potential circular references
23:07:10.107 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'healthCheckRegistry'
23:07:10.107 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'healthCheckRegistry'
23:07:10.107 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Invoking init method on bean 'nflowMetrics/metricsContext': public void com.nitorcreations.nflow.metrics.NflowMetricsContext.registerHealthChecks()
23:07:10.108 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'databaseConnectionHealthCheck'
23:07:10.108 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'databaseConnectionHealthCheck'
23:07:10.108 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning eagerly cached instance of singleton bean 'nflowMetrics/metricsContext' that is not fully initialized yet - a consequence of a circular reference
23:07:10.111 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'databaseConnectionHealthCheck' to allow for resolving potential circular references
23:07:10.113 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'databaseConnectionHealthCheck'
23:07:10.114 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'nflowMetrics/metricsContext'
23:07:10.114 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jmxMetricsReporter'
23:07:10.114 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'jmxMetricsReporter'
23:07:10.114 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.114 [main] INFO  c.n.n.metrics.NflowMetricsContext - Enabling Metrics JmxReporter
23:07:10.201 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'jmxMetricsReporter' to allow for resolving potential circular references
23:07:10.202 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'jmxMetricsReporter'
23:07:10.202 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'databaseConnectionHealthCheck'
23:07:10.203 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsWorkflowExecutorListener'
23:07:10.203 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricsWorkflowExecutorListener'
23:07:10.203 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.205 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'executorDao'
23:07:10.205 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'executorDao'
23:07:10.205 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.219 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Found init method on class [com.nitorcreations.nflow.engine.internal.dao.ExecutorDao$$EnhancerByMockitoWithCGLIB$$2978d496]: public void com.nitorcreations.nflow.engine.internal.dao.ExecutorDao.findHostMaxLength()
23:07:10.222 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Registered init method on class [com.nitorcreations.nflow.engine.internal.dao.ExecutorDao$$EnhancerByMockitoWithCGLIB$$2978d496]: org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement@c6974769
23:07:10.224 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'executorDao' to allow for resolving potential circular references
23:07:10.228 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Invoking init method on bean 'executorDao': public void com.nitorcreations.nflow.engine.internal.dao.ExecutorDao.findHostMaxLength()
23:07:10.229 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'executorDao'
23:07:10.230 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'metricsWorkflowExecutorListener' via factory method to bean named 'executorDao'
23:07:10.230 [main] INFO  c.n.n.metrics.NflowMetricsContext - Enabling MetricsWorkflowExecutorListener
23:07:10.232 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricsWorkflowExecutorListener' to allow for resolving potential circular references
23:07:10.234 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricsWorkflowExecutorListener'
23:07:10.234 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricRegistry'
23:07:10.234 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'healthCheckRegistry'
23:07:10.234 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'statisticsService'
23:07:10.234 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'statisticsDao'
23:07:10.234 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'executorDao'
23:07:10.234 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.249 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@6fd83fc1]
23:07:10.249 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
23:07:10.251 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [mockProperties]
23:07:10.251 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
23:07:10.252 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricRegistry'
23:07:10.252 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListener'
23:07:10.267 [main] DEBUG o.s.mock.env.MockEnvironment - Initialized MockEnvironment with PropertySources []
23:07:10.267 [main] DEBUG o.s.mock.env.MockEnvironment - Adding [mockProperties] PropertySource with lowest search precedence
23:07:10.268 [main] DEBUG o.s.mock.env.MockEnvironment - Activating profile 'metrics'
23:07:10.268 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Searching for key 'spring.profiles.active' in [mockProperties]
23:07:10.268 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Could not find key 'spring.profiles.active' in any property source. Returning [null]
23:07:10.268 [main] DEBUG o.s.mock.env.MockEnvironment - Activating profile 'jmx'
23:07:10.269 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
23:07:10.269 [main] INFO  c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Refreshing com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$1@2d710f1a: startup date [Tue Oct 05 23:07:10 IST 2021]; root of context hierarchy
23:07:10.270 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Bean factory for com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$1@2d710f1a: org.springframework.beans.factory.support.DefaultListableBeanFactory@29215f06: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,metricsWorkflowExecutorListenerTest.Config]; root of factory hierarchy
23:07:10.270 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.270 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.270 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
23:07:10.271 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.273 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registered bean definition for imported class 'nflowMetrics/metricsContext'
23:07:10.274 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.jmxMetricsReporter()
23:07:10.275 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.databaseConnectionHealthCheck()
23:07:10.275 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.metricsWorkflowExecutorListener()
23:07:10.276 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.metricRegistry()
23:07:10.276 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.healthCheckRegistry()
23:07:10.277 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.statisticsService()
23:07:10.277 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.statisticsDao()
23:07:10.279 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.executorDao()
23:07:10.280 [main] DEBUG o.s.c.a.ConfigurationClassEnhancer - Successfully enhanced com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config; enhanced class name is: com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config$$EnhancerBySpringCGLIB$$a86366aa
23:07:10.280 [main] DEBUG o.s.c.a.ConfigurationClassPostProcessor - Replacing bean definition 'metricsWorkflowExecutorListenerTest.Config' existing class name 'com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config' with enhanced class name 'com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config$$EnhancerBySpringCGLIB$$a86366aa'
23:07:10.281 [main] DEBUG o.s.c.a.ConfigurationClassEnhancer - Successfully enhanced com.nitorcreations.nflow.metrics.NflowMetricsContext; enhanced class name is: com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b
23:07:10.281 [main] DEBUG o.s.c.a.ConfigurationClassPostProcessor - Replacing bean definition 'nflowMetrics/metricsContext' existing class name 'com.nitorcreations.nflow.metrics.NflowMetricsContext' with enhanced class name 'com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b'
23:07:10.282 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.282 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.282 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
23:07:10.282 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
23:07:10.282 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.282 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.283 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
23:07:10.284 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.284 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.284 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.284 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
23:07:10.284 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.284 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@3527942a]
23:07:10.284 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@942a29c]
23:07:10.284 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@29215f06: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,metricsWorkflowExecutorListenerTest.Config,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,nflowMetrics/metricsContext,jmxMetricsReporter,databaseConnectionHealthCheck,metricsWorkflowExecutorListener,metricRegistry,healthCheckRegistry,statisticsService,statisticsDao,executorDao]; root of factory hierarchy
23:07:10.285 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.285 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.285 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.285 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.285 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.285 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.285 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerProcessor' to allow for resolving potential circular references
23:07:10.286 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.286 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.286 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.286 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerFactory' to allow for resolving potential circular references
23:07:10.287 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.287 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.287 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.287 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricsWorkflowExecutorListenerTest.Config' to allow for resolving potential circular references
23:07:10.288 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.288 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.288 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.288 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.288 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'nflowMetrics/metricsContext'
23:07:10.288 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Found init method on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: public void com.nitorcreations.nflow.metrics.NflowMetricsContext.registerHealthChecks()
23:07:10.289 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Registered init method on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement@e2261c2a
23:07:10.289 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.nitorcreations.nflow.engine.service.StatisticsService com.nitorcreations.nflow.metrics.NflowMetricsContext.statisticsService
23:07:10.289 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.codahale.metrics.MetricRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.metricRegistry
23:07:10.289 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.codahale.metrics.health.HealthCheckRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.healthCheckRegistry
23:07:10.290 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'nflowMetrics/metricsContext' to allow for resolving potential circular references
23:07:10.290 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.nitorcreations.nflow.engine.service.StatisticsService com.nitorcreations.nflow.metrics.NflowMetricsContext.statisticsService
23:07:10.290 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'statisticsService'
23:07:10.290 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'statisticsService'
23:07:10.291 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.291 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.engine.service.StatisticsService$$EnhancerByMockitoWithCGLIB$$85efeb13]: AutowiredFieldElement for private com.nitorcreations.nflow.engine.internal.dao.StatisticsDao com.nitorcreations.nflow.engine.service.StatisticsService.statisticsDao
23:07:10.291 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'statisticsService' to allow for resolving potential circular references
23:07:10.292 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'statisticsService': AutowiredFieldElement for private com.nitorcreations.nflow.engine.internal.dao.StatisticsDao com.nitorcreations.nflow.engine.service.StatisticsService.statisticsDao
23:07:10.292 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'statisticsDao'
23:07:10.292 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'statisticsDao'
23:07:10.292 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.293 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'statisticsDao' to allow for resolving potential circular references
23:07:10.294 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'statisticsDao'
23:07:10.294 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'statisticsService' to bean named 'statisticsDao'
23:07:10.294 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'statisticsService'
23:07:10.294 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'statisticsService'
23:07:10.294 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.codahale.metrics.MetricRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.metricRegistry
23:07:10.295 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricRegistry'
23:07:10.295 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricRegistry'
23:07:10.295 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.296 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricRegistry' to allow for resolving potential circular references
23:07:10.297 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricRegistry'
23:07:10.297 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'metricRegistry'
23:07:10.297 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.codahale.metrics.health.HealthCheckRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.healthCheckRegistry
23:07:10.297 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'healthCheckRegistry'
23:07:10.297 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'healthCheckRegistry'
23:07:10.297 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.298 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'healthCheckRegistry' to allow for resolving potential circular references
23:07:10.298 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'healthCheckRegistry'
23:07:10.298 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'healthCheckRegistry'
23:07:10.298 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Invoking init method on bean 'nflowMetrics/metricsContext': public void com.nitorcreations.nflow.metrics.NflowMetricsContext.registerHealthChecks()
23:07:10.299 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'databaseConnectionHealthCheck'
23:07:10.299 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'databaseConnectionHealthCheck'
23:07:10.299 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning eagerly cached instance of singleton bean 'nflowMetrics/metricsContext' that is not fully initialized yet - a consequence of a circular reference
23:07:10.299 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'databaseConnectionHealthCheck' to allow for resolving potential circular references
23:07:10.300 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'databaseConnectionHealthCheck'
23:07:10.300 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'nflowMetrics/metricsContext'
23:07:10.300 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jmxMetricsReporter'
23:07:10.300 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'jmxMetricsReporter'
23:07:10.300 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.300 [main] INFO  c.n.n.metrics.NflowMetricsContext - Enabling Metrics JmxReporter
23:07:10.300 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'jmxMetricsReporter' to allow for resolving potential circular references
23:07:10.301 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'jmxMetricsReporter'
23:07:10.301 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'databaseConnectionHealthCheck'
23:07:10.301 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsWorkflowExecutorListener'
23:07:10.301 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricsWorkflowExecutorListener'
23:07:10.301 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.302 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'executorDao'
23:07:10.302 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'executorDao'
23:07:10.302 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.303 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Found init method on class [com.nitorcreations.nflow.engine.internal.dao.ExecutorDao$$EnhancerByMockitoWithCGLIB$$2978d496]: public void com.nitorcreations.nflow.engine.internal.dao.ExecutorDao.findHostMaxLength()
23:07:10.303 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Registered init method on class [com.nitorcreations.nflow.engine.internal.dao.ExecutorDao$$EnhancerByMockitoWithCGLIB$$2978d496]: org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement@c6974769
23:07:10.308 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'executorDao' to allow for resolving potential circular references
23:07:10.308 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Invoking init method on bean 'executorDao': public void com.nitorcreations.nflow.engine.internal.dao.ExecutorDao.findHostMaxLength()
23:07:10.309 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'executorDao'
23:07:10.309 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'metricsWorkflowExecutorListener' via factory method to bean named 'executorDao'
23:07:10.309 [main] INFO  c.n.n.metrics.NflowMetricsContext - Enabling MetricsWorkflowExecutorListener
23:07:10.310 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricsWorkflowExecutorListener' to allow for resolving potential circular references
23:07:10.310 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricsWorkflowExecutorListener'
23:07:10.310 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricRegistry'
23:07:10.310 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'healthCheckRegistry'
23:07:10.310 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'statisticsService'
23:07:10.310 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'statisticsDao'
23:07:10.310 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'executorDao'
23:07:10.310 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.314 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@5a45133e]
23:07:10.315 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
23:07:10.315 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [mockProperties]
23:07:10.315 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
23:07:10.315 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricRegistry'
23:07:10.316 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListener'
23:07:10.321 [main] DEBUG com.codahale.metrics.JmxReporter - Unable to register timer
javax.management.InstanceAlreadyExistsException: nflow.metrics:name=foobarName.0.myWorkflow.my-state.execution-time
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324) ~[na:1.8.0_292]
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522) ~[na:1.8.0_292]
	at com.codahale.metrics.JmxReporter$JmxListener.registerMBean(JmxReporter.java:505) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.JmxReporter$JmxListener.onTimerAdded(JmxReporter.java:634) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.notifyListenerOfAddedMetric(MetricRegistry.java:356) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.onMetricAdded(MetricRegistry.java:342) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.register(MetricRegistry.java:89) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.getOrAdd(MetricRegistry.java:317) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.timer(MetricRegistry.java:148) [metrics-core-3.1.2.jar:3.1.2]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.beforeProcessing(MetricsWorkflowExecutorListener.java:37) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest.afterFailure(MetricsWorkflowExecutorListenerTest.java:89) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
23:07:10.322 [main] DEBUG com.codahale.metrics.JmxReporter - Unable to register histogram
javax.management.InstanceAlreadyExistsException: nflow.metrics:name=foobarName.0.myWorkflow.my-state.retries
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324) ~[na:1.8.0_292]
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522) ~[na:1.8.0_292]
	at com.codahale.metrics.JmxReporter$JmxListener.registerMBean(JmxReporter.java:505) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.JmxReporter$JmxListener.onHistogramAdded(JmxReporter.java:582) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.notifyListenerOfAddedMetric(MetricRegistry.java:352) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.onMetricAdded(MetricRegistry.java:342) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.register(MetricRegistry.java:89) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.getOrAdd(MetricRegistry.java:317) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.histogram(MetricRegistry.java:126) [metrics-core-3.1.2.jar:3.1.2]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.meterRetries(MetricsWorkflowExecutorListener.java:45) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.beforeProcessing(MetricsWorkflowExecutorListener.java:40) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest.afterFailure(MetricsWorkflowExecutorListenerTest.java:89) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
23:07:10.325 [main] DEBUG o.s.mock.env.MockEnvironment - Initialized MockEnvironment with PropertySources []
23:07:10.325 [main] DEBUG o.s.mock.env.MockEnvironment - Adding [mockProperties] PropertySource with lowest search precedence
23:07:10.325 [main] DEBUG o.s.mock.env.MockEnvironment - Activating profile 'metrics'
23:07:10.325 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Searching for key 'spring.profiles.active' in [mockProperties]
23:07:10.326 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Could not find key 'spring.profiles.active' in any property source. Returning [null]
23:07:10.326 [main] DEBUG o.s.mock.env.MockEnvironment - Activating profile 'jmx'
23:07:10.326 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
23:07:10.327 [main] INFO  c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Refreshing com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$1@2e6a8155: startup date [Tue Oct 05 23:07:10 IST 2021]; root of context hierarchy
23:07:10.327 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Bean factory for com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$1@2e6a8155: org.springframework.beans.factory.support.DefaultListableBeanFactory@6221a451: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,metricsWorkflowExecutorListenerTest.Config]; root of factory hierarchy
23:07:10.327 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.327 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.328 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
23:07:10.328 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.329 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registered bean definition for imported class 'nflowMetrics/metricsContext'
23:07:10.330 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.jmxMetricsReporter()
23:07:10.331 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.databaseConnectionHealthCheck()
23:07:10.331 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.metricsWorkflowExecutorListener()
23:07:10.331 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.metricRegistry()
23:07:10.332 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.healthCheckRegistry()
23:07:10.332 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.statisticsService()
23:07:10.332 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.statisticsDao()
23:07:10.333 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.executorDao()
23:07:10.334 [main] DEBUG o.s.c.a.ConfigurationClassEnhancer - Successfully enhanced com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config; enhanced class name is: com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config$$EnhancerBySpringCGLIB$$a86366aa
23:07:10.334 [main] DEBUG o.s.c.a.ConfigurationClassPostProcessor - Replacing bean definition 'metricsWorkflowExecutorListenerTest.Config' existing class name 'com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config' with enhanced class name 'com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config$$EnhancerBySpringCGLIB$$a86366aa'
23:07:10.334 [main] DEBUG o.s.c.a.ConfigurationClassEnhancer - Successfully enhanced com.nitorcreations.nflow.metrics.NflowMetricsContext; enhanced class name is: com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b
23:07:10.335 [main] DEBUG o.s.c.a.ConfigurationClassPostProcessor - Replacing bean definition 'nflowMetrics/metricsContext' existing class name 'com.nitorcreations.nflow.metrics.NflowMetricsContext' with enhanced class name 'com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b'
23:07:10.335 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.336 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.336 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
23:07:10.336 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
23:07:10.336 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.336 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.336 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.336 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
23:07:10.336 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.337 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.338 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.338 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
23:07:10.338 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.338 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@f09733f]
23:07:10.338 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@e350b40]
23:07:10.338 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@6221a451: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,metricsWorkflowExecutorListenerTest.Config,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,nflowMetrics/metricsContext,jmxMetricsReporter,databaseConnectionHealthCheck,metricsWorkflowExecutorListener,metricRegistry,healthCheckRegistry,statisticsService,statisticsDao,executorDao]; root of factory hierarchy
23:07:10.339 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.339 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.339 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.339 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.339 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.339 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.340 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerProcessor' to allow for resolving potential circular references
23:07:10.340 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.340 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.340 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.341 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerFactory' to allow for resolving potential circular references
23:07:10.341 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.341 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.341 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.342 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricsWorkflowExecutorListenerTest.Config' to allow for resolving potential circular references
23:07:10.342 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.342 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.342 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.343 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.343 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'nflowMetrics/metricsContext'
23:07:10.343 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Found init method on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: public void com.nitorcreations.nflow.metrics.NflowMetricsContext.registerHealthChecks()
23:07:10.343 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Registered init method on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement@e2261c2a
23:07:10.344 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.nitorcreations.nflow.engine.service.StatisticsService com.nitorcreations.nflow.metrics.NflowMetricsContext.statisticsService
23:07:10.344 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.codahale.metrics.MetricRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.metricRegistry
23:07:10.344 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.codahale.metrics.health.HealthCheckRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.healthCheckRegistry
23:07:10.344 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'nflowMetrics/metricsContext' to allow for resolving potential circular references
23:07:10.344 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.nitorcreations.nflow.engine.service.StatisticsService com.nitorcreations.nflow.metrics.NflowMetricsContext.statisticsService
23:07:10.345 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'statisticsService'
23:07:10.345 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'statisticsService'
23:07:10.345 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.346 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.engine.service.StatisticsService$$EnhancerByMockitoWithCGLIB$$85efeb13]: AutowiredFieldElement for private com.nitorcreations.nflow.engine.internal.dao.StatisticsDao com.nitorcreations.nflow.engine.service.StatisticsService.statisticsDao
23:07:10.346 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'statisticsService' to allow for resolving potential circular references
23:07:10.346 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'statisticsService': AutowiredFieldElement for private com.nitorcreations.nflow.engine.internal.dao.StatisticsDao com.nitorcreations.nflow.engine.service.StatisticsService.statisticsDao
23:07:10.347 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'statisticsDao'
23:07:10.347 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'statisticsDao'
23:07:10.347 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.348 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'statisticsDao' to allow for resolving potential circular references
23:07:10.349 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'statisticsDao'
23:07:10.349 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'statisticsService' to bean named 'statisticsDao'
23:07:10.349 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'statisticsService'
23:07:10.349 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'statisticsService'
23:07:10.349 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.codahale.metrics.MetricRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.metricRegistry
23:07:10.350 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricRegistry'
23:07:10.350 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricRegistry'
23:07:10.350 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.350 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricRegistry' to allow for resolving potential circular references
23:07:10.351 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricRegistry'
23:07:10.351 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'metricRegistry'
23:07:10.351 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.codahale.metrics.health.HealthCheckRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.healthCheckRegistry
23:07:10.352 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'healthCheckRegistry'
23:07:10.352 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'healthCheckRegistry'
23:07:10.352 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.352 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'healthCheckRegistry' to allow for resolving potential circular references
23:07:10.353 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'healthCheckRegistry'
23:07:10.353 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'healthCheckRegistry'
23:07:10.353 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Invoking init method on bean 'nflowMetrics/metricsContext': public void com.nitorcreations.nflow.metrics.NflowMetricsContext.registerHealthChecks()
23:07:10.353 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'databaseConnectionHealthCheck'
23:07:10.353 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'databaseConnectionHealthCheck'
23:07:10.354 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning eagerly cached instance of singleton bean 'nflowMetrics/metricsContext' that is not fully initialized yet - a consequence of a circular reference
23:07:10.354 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'databaseConnectionHealthCheck' to allow for resolving potential circular references
23:07:10.354 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'databaseConnectionHealthCheck'
23:07:10.354 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'nflowMetrics/metricsContext'
23:07:10.355 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jmxMetricsReporter'
23:07:10.355 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'jmxMetricsReporter'
23:07:10.355 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.355 [main] INFO  c.n.n.metrics.NflowMetricsContext - Enabling Metrics JmxReporter
23:07:10.355 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'jmxMetricsReporter' to allow for resolving potential circular references
23:07:10.356 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'jmxMetricsReporter'
23:07:10.356 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'databaseConnectionHealthCheck'
23:07:10.356 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsWorkflowExecutorListener'
23:07:10.356 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricsWorkflowExecutorListener'
23:07:10.356 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.357 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'executorDao'
23:07:10.357 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'executorDao'
23:07:10.357 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.358 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Found init method on class [com.nitorcreations.nflow.engine.internal.dao.ExecutorDao$$EnhancerByMockitoWithCGLIB$$2978d496]: public void com.nitorcreations.nflow.engine.internal.dao.ExecutorDao.findHostMaxLength()
23:07:10.358 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Registered init method on class [com.nitorcreations.nflow.engine.internal.dao.ExecutorDao$$EnhancerByMockitoWithCGLIB$$2978d496]: org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement@c6974769
23:07:10.358 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'executorDao' to allow for resolving potential circular references
23:07:10.359 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Invoking init method on bean 'executorDao': public void com.nitorcreations.nflow.engine.internal.dao.ExecutorDao.findHostMaxLength()
23:07:10.359 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'executorDao'
23:07:10.360 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'metricsWorkflowExecutorListener' via factory method to bean named 'executorDao'
23:07:10.360 [main] INFO  c.n.n.metrics.NflowMetricsContext - Enabling MetricsWorkflowExecutorListener
23:07:10.360 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricsWorkflowExecutorListener' to allow for resolving potential circular references
23:07:10.361 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricsWorkflowExecutorListener'
23:07:10.361 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricRegistry'
23:07:10.361 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'healthCheckRegistry'
23:07:10.361 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'statisticsService'
23:07:10.361 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'statisticsDao'
23:07:10.361 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'executorDao'
23:07:10.361 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.365 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@2794eab6]
23:07:10.366 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
23:07:10.366 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [mockProperties]
23:07:10.366 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
23:07:10.366 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricRegistry'
23:07:10.366 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListener'
23:07:10.368 [main] DEBUG com.codahale.metrics.JmxReporter - Unable to register timer
javax.management.InstanceAlreadyExistsException: nflow.metrics:name=foobarName.0.myWorkflow.my-state.execution-time
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324) ~[na:1.8.0_292]
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522) ~[na:1.8.0_292]
	at com.codahale.metrics.JmxReporter$JmxListener.registerMBean(JmxReporter.java:505) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.JmxReporter$JmxListener.onTimerAdded(JmxReporter.java:634) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.notifyListenerOfAddedMetric(MetricRegistry.java:356) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.onMetricAdded(MetricRegistry.java:342) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.register(MetricRegistry.java:89) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.getOrAdd(MetricRegistry.java:317) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.timer(MetricRegistry.java:148) [metrics-core-3.1.2.jar:3.1.2]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.beforeProcessing(MetricsWorkflowExecutorListener.java:37) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest.whenNextActivationIsSetBeforeContext(MetricsWorkflowExecutorListenerTest.java:72) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
23:07:10.369 [main] DEBUG com.codahale.metrics.JmxReporter - Unable to register histogram
javax.management.InstanceAlreadyExistsException: nflow.metrics:name=foobarName.0.myWorkflow.my-state.retries
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324) ~[na:1.8.0_292]
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522) ~[na:1.8.0_292]
	at com.codahale.metrics.JmxReporter$JmxListener.registerMBean(JmxReporter.java:505) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.JmxReporter$JmxListener.onHistogramAdded(JmxReporter.java:582) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.notifyListenerOfAddedMetric(MetricRegistry.java:352) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.onMetricAdded(MetricRegistry.java:342) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.register(MetricRegistry.java:89) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.getOrAdd(MetricRegistry.java:317) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.histogram(MetricRegistry.java:126) [metrics-core-3.1.2.jar:3.1.2]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.meterRetries(MetricsWorkflowExecutorListener.java:45) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.beforeProcessing(MetricsWorkflowExecutorListener.java:40) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest.whenNextActivationIsSetBeforeContext(MetricsWorkflowExecutorListenerTest.java:72) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
23:07:10.372 [main] DEBUG o.s.mock.env.MockEnvironment - Initialized MockEnvironment with PropertySources []
23:07:10.372 [main] DEBUG o.s.mock.env.MockEnvironment - Adding [mockProperties] PropertySource with lowest search precedence
23:07:10.372 [main] DEBUG o.s.mock.env.MockEnvironment - Activating profile 'metrics'
23:07:10.372 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Searching for key 'spring.profiles.active' in [mockProperties]
23:07:10.372 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Could not find key 'spring.profiles.active' in any property source. Returning [null]
23:07:10.372 [main] DEBUG o.s.mock.env.MockEnvironment - Activating profile 'jmx'
23:07:10.373 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
23:07:10.374 [main] INFO  c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Refreshing com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$1@6340e5f0: startup date [Tue Oct 05 23:07:10 IST 2021]; root of context hierarchy
23:07:10.374 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Bean factory for com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$1@6340e5f0: org.springframework.beans.factory.support.DefaultListableBeanFactory@45099dd3: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,metricsWorkflowExecutorListenerTest.Config]; root of factory hierarchy
23:07:10.374 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.374 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.374 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
23:07:10.374 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.376 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registered bean definition for imported class 'nflowMetrics/metricsContext'
23:07:10.377 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.jmxMetricsReporter()
23:07:10.377 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.databaseConnectionHealthCheck()
23:07:10.377 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.NflowMetricsContext.metricsWorkflowExecutorListener()
23:07:10.378 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.metricRegistry()
23:07:10.378 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.healthCheckRegistry()
23:07:10.378 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.statisticsService()
23:07:10.379 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.statisticsDao()
23:07:10.379 [main] DEBUG o.s.c.a.ConfigurationClassBeanDefinitionReader - Registering bean definition for @Bean method com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config.executorDao()
23:07:10.380 [main] DEBUG o.s.c.a.ConfigurationClassEnhancer - Successfully enhanced com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config; enhanced class name is: com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config$$EnhancerBySpringCGLIB$$a86366aa
23:07:10.380 [main] DEBUG o.s.c.a.ConfigurationClassPostProcessor - Replacing bean definition 'metricsWorkflowExecutorListenerTest.Config' existing class name 'com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config' with enhanced class name 'com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest$Config$$EnhancerBySpringCGLIB$$a86366aa'
23:07:10.381 [main] DEBUG o.s.c.a.ConfigurationClassEnhancer - Successfully enhanced com.nitorcreations.nflow.metrics.NflowMetricsContext; enhanced class name is: com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b
23:07:10.381 [main] DEBUG o.s.c.a.ConfigurationClassPostProcessor - Replacing bean definition 'nflowMetrics/metricsContext' existing class name 'com.nitorcreations.nflow.metrics.NflowMetricsContext' with enhanced class name 'com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b'
23:07:10.382 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.382 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.382 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
23:07:10.382 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
23:07:10.382 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.382 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.382 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor' to allow for resolving potential circular references
23:07:10.383 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.384 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.384 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.384 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor' to allow for resolving potential circular references
23:07:10.384 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.384 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@d86a6f]
23:07:10.384 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@2892d68]
23:07:10.384 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@45099dd3: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,metricsWorkflowExecutorListenerTest.Config,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor,nflowMetrics/metricsContext,jmxMetricsReporter,databaseConnectionHealthCheck,metricsWorkflowExecutorListener,metricRegistry,healthCheckRegistry,statisticsService,statisticsDao,executorDao]; root of factory hierarchy
23:07:10.384 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
23:07:10.384 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
23:07:10.384 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
23:07:10.385 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
23:07:10.385 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.385 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.385 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerProcessor' to allow for resolving potential circular references
23:07:10.385 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
23:07:10.386 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.386 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.386 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerFactory' to allow for resolving potential circular references
23:07:10.386 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.386 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.387 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.387 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricsWorkflowExecutorListenerTest.Config' to allow for resolving potential circular references
23:07:10.388 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.388 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor'
23:07:10.388 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.ConfigurationClassPostProcessor.enhancedConfigurationProcessor'
23:07:10.388 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.388 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'nflowMetrics/metricsContext'
23:07:10.388 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Found init method on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: public void com.nitorcreations.nflow.metrics.NflowMetricsContext.registerHealthChecks()
23:07:10.388 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Registered init method on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement@e2261c2a
23:07:10.389 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.nitorcreations.nflow.engine.service.StatisticsService com.nitorcreations.nflow.metrics.NflowMetricsContext.statisticsService
23:07:10.389 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.codahale.metrics.MetricRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.metricRegistry
23:07:10.389 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.metrics.NflowMetricsContext$$EnhancerBySpringCGLIB$$d9a3d37b]: AutowiredFieldElement for private com.codahale.metrics.health.HealthCheckRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.healthCheckRegistry
23:07:10.389 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'nflowMetrics/metricsContext' to allow for resolving potential circular references
23:07:10.389 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.nitorcreations.nflow.engine.service.StatisticsService com.nitorcreations.nflow.metrics.NflowMetricsContext.statisticsService
23:07:10.390 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'statisticsService'
23:07:10.390 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'statisticsService'
23:07:10.390 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.390 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Registered injected element on class [com.nitorcreations.nflow.engine.service.StatisticsService$$EnhancerByMockitoWithCGLIB$$85efeb13]: AutowiredFieldElement for private com.nitorcreations.nflow.engine.internal.dao.StatisticsDao com.nitorcreations.nflow.engine.service.StatisticsService.statisticsDao
23:07:10.390 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'statisticsService' to allow for resolving potential circular references
23:07:10.391 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'statisticsService': AutowiredFieldElement for private com.nitorcreations.nflow.engine.internal.dao.StatisticsDao com.nitorcreations.nflow.engine.service.StatisticsService.statisticsDao
23:07:10.391 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'statisticsDao'
23:07:10.391 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'statisticsDao'
23:07:10.391 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.391 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'statisticsDao' to allow for resolving potential circular references
23:07:10.392 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'statisticsDao'
23:07:10.392 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'statisticsService' to bean named 'statisticsDao'
23:07:10.392 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'statisticsService'
23:07:10.392 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'statisticsService'
23:07:10.392 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.codahale.metrics.MetricRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.metricRegistry
23:07:10.393 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricRegistry'
23:07:10.393 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricRegistry'
23:07:10.393 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.393 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricRegistry' to allow for resolving potential circular references
23:07:10.394 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricRegistry'
23:07:10.394 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'metricRegistry'
23:07:10.394 [main] DEBUG o.s.b.f.annotation.InjectionMetadata - Processing injected element of bean 'nflowMetrics/metricsContext': AutowiredFieldElement for private com.codahale.metrics.health.HealthCheckRegistry com.nitorcreations.nflow.metrics.NflowMetricsContext.healthCheckRegistry
23:07:10.395 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'healthCheckRegistry'
23:07:10.395 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'healthCheckRegistry'
23:07:10.395 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.395 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'healthCheckRegistry' to allow for resolving potential circular references
23:07:10.396 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'healthCheckRegistry'
23:07:10.396 [main] DEBUG o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowiring by type from bean name 'nflowMetrics/metricsContext' to bean named 'healthCheckRegistry'
23:07:10.396 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Invoking init method on bean 'nflowMetrics/metricsContext': public void com.nitorcreations.nflow.metrics.NflowMetricsContext.registerHealthChecks()
23:07:10.396 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'databaseConnectionHealthCheck'
23:07:10.396 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'databaseConnectionHealthCheck'
23:07:10.396 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning eagerly cached instance of singleton bean 'nflowMetrics/metricsContext' that is not fully initialized yet - a consequence of a circular reference
23:07:10.396 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'databaseConnectionHealthCheck' to allow for resolving potential circular references
23:07:10.397 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'databaseConnectionHealthCheck'
23:07:10.397 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'nflowMetrics/metricsContext'
23:07:10.397 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'jmxMetricsReporter'
23:07:10.397 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'jmxMetricsReporter'
23:07:10.397 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.398 [main] INFO  c.n.n.metrics.NflowMetricsContext - Enabling Metrics JmxReporter
23:07:10.398 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'jmxMetricsReporter' to allow for resolving potential circular references
23:07:10.398 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'jmxMetricsReporter'
23:07:10.398 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'databaseConnectionHealthCheck'
23:07:10.398 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsWorkflowExecutorListener'
23:07:10.398 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'metricsWorkflowExecutorListener'
23:07:10.398 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'nflowMetrics/metricsContext'
23:07:10.399 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'executorDao'
23:07:10.399 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating instance of bean 'executorDao'
23:07:10.400 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListenerTest.Config'
23:07:10.400 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Found init method on class [com.nitorcreations.nflow.engine.internal.dao.ExecutorDao$$EnhancerByMockitoWithCGLIB$$2978d496]: public void com.nitorcreations.nflow.engine.internal.dao.ExecutorDao.findHostMaxLength()
23:07:10.400 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Registered init method on class [com.nitorcreations.nflow.engine.internal.dao.ExecutorDao$$EnhancerByMockitoWithCGLIB$$2978d496]: org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement@c6974769
23:07:10.401 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'executorDao' to allow for resolving potential circular references
23:07:10.402 [main] DEBUG o.s.c.a.CommonAnnotationBeanPostProcessor - Invoking init method on bean 'executorDao': public void com.nitorcreations.nflow.engine.internal.dao.ExecutorDao.findHostMaxLength()
23:07:10.402 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'executorDao'
23:07:10.402 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Autowiring by type from bean name 'metricsWorkflowExecutorListener' via factory method to bean named 'executorDao'
23:07:10.402 [main] INFO  c.n.n.metrics.NflowMetricsContext - Enabling MetricsWorkflowExecutorListener
23:07:10.402 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Eagerly caching bean 'metricsWorkflowExecutorListener' to allow for resolving potential circular references
23:07:10.403 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Finished creating instance of bean 'metricsWorkflowExecutorListener'
23:07:10.403 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricRegistry'
23:07:10.403 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'healthCheckRegistry'
23:07:10.403 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'statisticsService'
23:07:10.403 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'statisticsDao'
23:07:10.403 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'executorDao'
23:07:10.403 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
23:07:10.407 [main] DEBUG c.n.n.m.MetricsWorkflowExecutorListenerTest$1 - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@3646a422]
23:07:10.407 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
23:07:10.408 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Searching for key 'spring.liveBeansView.mbeanDomain' in [mockProperties]
23:07:10.408 [main] DEBUG o.s.c.e.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source. Returning [null]
23:07:10.408 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricRegistry'
23:07:10.408 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Returning cached instance of singleton bean 'metricsWorkflowExecutorListener'
23:07:10.409 [main] DEBUG com.codahale.metrics.JmxReporter - Unable to register timer
javax.management.InstanceAlreadyExistsException: nflow.metrics:name=foobarName.0.myWorkflow.my-state.execution-time
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324) ~[na:1.8.0_292]
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522) ~[na:1.8.0_292]
	at com.codahale.metrics.JmxReporter$JmxListener.registerMBean(JmxReporter.java:505) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.JmxReporter$JmxListener.onTimerAdded(JmxReporter.java:634) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.notifyListenerOfAddedMetric(MetricRegistry.java:356) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.onMetricAdded(MetricRegistry.java:342) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.register(MetricRegistry.java:89) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.getOrAdd(MetricRegistry.java:317) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.timer(MetricRegistry.java:148) [metrics-core-3.1.2.jar:3.1.2]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.beforeProcessing(MetricsWorkflowExecutorListener.java:37) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest.beforeContext(MetricsWorkflowExecutorListenerTest.java:64) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
23:07:10.410 [main] DEBUG com.codahale.metrics.JmxReporter - Unable to register histogram
javax.management.InstanceAlreadyExistsException: nflow.metrics:name=foobarName.0.myWorkflow.my-state.retries
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900) ~[na:1.8.0_292]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324) ~[na:1.8.0_292]
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522) ~[na:1.8.0_292]
	at com.codahale.metrics.JmxReporter$JmxListener.registerMBean(JmxReporter.java:505) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.JmxReporter$JmxListener.onHistogramAdded(JmxReporter.java:582) ~[metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.notifyListenerOfAddedMetric(MetricRegistry.java:352) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.onMetricAdded(MetricRegistry.java:342) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.register(MetricRegistry.java:89) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.getOrAdd(MetricRegistry.java:317) [metrics-core-3.1.2.jar:3.1.2]
	at com.codahale.metrics.MetricRegistry.histogram(MetricRegistry.java:126) [metrics-core-3.1.2.jar:3.1.2]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.meterRetries(MetricsWorkflowExecutorListener.java:45) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListener.beforeProcessing(MetricsWorkflowExecutorListener.java:40) [classes/:na]
	at com.nitorcreations.nflow.metrics.MetricsWorkflowExecutorListenerTest.beforeContext(MetricsWorkflowExecutorListenerTest.java:64) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) [junit-4.12.jar:4.12]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
